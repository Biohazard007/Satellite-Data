<!DOCTYPE html>
<html lang="en">
  <head>
    <title> Antarikchya </title>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">

    <style>html, body {width: 100%;height: 100%;margin: 0;padding: 0;}</style>
    <style>#map {position:absolute;top:0;bottom:0;right:0;left:0;}</style>
    <script src="https://cdn.jsdelivr.net/npm/leaflet@1.6.0/dist/leaflet.js"></script>
    <script src="https://code.jquery.com/jquery-1.12.4.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet@1.6.0/dist/leaflet.css"/>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap-theme.min.css"/>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/python-visualization/folium/folium/templates/leaflet.awesome.rotate.min.css"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">


            <meta name="viewport" content="width=device-width,
                initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
            <style>
                #map_38833bccc8c44b61a7f3e48cea0dec7a {
                    position: relative;
                    width: 100.0%;
                    height: 100.0%;
                    left: 0.0%;
                    top: 0.0%;
                };

                #popup{
                  width: 50vh;
                  height: 50vh;
                  background-color: lightblue;
                }

              .font{
                    font-family: 'Cornerstone';
                    src: url('Cornerstone.woff2') format('woff2'),
                   url('Cornerstone.woff') format('woff');
                    font-weight: normal;
                     font-style: normal;
                  font-display: swap;

                }

                #navi{}
                #havi:hover{ background-color: yellow;
                             color: white;
                }
                .image-preview{ width:300px;
                                min-height:100px;
                                border: 2px solid #dddddd;
                                margin-top:15px;


                                display:flex;
                                align-items: center;
                                justify-content: center;
                                font-weight: bold;
                                color: #cccccc;
                }


                .container{
                            background-color: #ffffff;
                            width: 60%;
                            min-width: 450px;
                            position: absolute;
                            margin-left:  20%;
                            margin-top: 7%;
                            padding: 50px 20px;
                            border-radius: 7px;
                            box-shadow: 0 20px 35px rgba(0,0,0,0.05);
                            overflow: scroll;
                            }

                #results{
                            background-color: #ffffff;
                            width: auto;
                            position: absolute;
                            margin-left: 20%;
                            margin-top: 7%;
                            padding: 50px 20px;
                            border-radius: 7px;
                            box-shadow: 0 20px 35px rgba(0,0,0,0.05);
                            }

                input[type="file"]{
                                    display: none;
                                  }

                 #label{
                        display: block;
                        background-color: #025bee;
                        color: #ffffff;
                        font-size: 18px;
                        text-align: center;
                        width: 300px;
                        padding: 18px 0;
                        border-radius: 5px;
                        cursor: pointer;
                        float:left;
                  }
                  input{
                        display: block;
                        background-color: #025bee;
                        color: #ffffff;
                        font-size: 18px;
                        text-align: center;
                        width: 300px;
                        padding: 18px 0;
                        border-radius: 5px;
                        cursor: pointer;
                        float:right;
                  }
                  #process{
                        display: block;
                        background-color: #025bee;
                        color: #ffffff;
                        font-size: 18px;
                        text-align: center;
                        width: 300px;
                        padding: 18px 0;
                        border-radius: 5px;
                        cursor: pointer;
                        float:right;
                  }
                .container p{
                              text-align: center;
                              margin: 20px 0 30px 0;
                              }
                 #images{
                          width: 90%;
                          position: relative;
                          margin: auto;
                          display: flex;
                          justify-content: space-evenly;
                          gap: 20px;
                          flex-wrap: wrap;
                 }
                figure{
                        width: 45%;
                  }
                img{
                    width: 100%;
                    }
                figCaption{
                            text-align: center;
                            font-size: 2.4min;
                            margin-top: 0.5min;
                            }
                table{
                      border: 1px solid black;
                      border-collapse: collapse;
                      height: auto;
                      width: auto;
                      }
                th{
                    width: 200px;
                    height: 20px;
                }
            </style>

    <!-- Bootstrap CSS -->


  </head>
  <script type="text/javascript" src="/static/array.js"></script>
<body>
  <main>
    <div class="b-example-divider"></div>

    <header class=" bg-dark text-white">
      <div >
        <div class="font d-flex flex-wrap align-items-center justify-content-center justify-content-lg-start" style="margin-left: 15px;">
          <ul class="nav  col-lg-auto me-lg-auto  justify-content-center mb-md-0">
            <li><h2 > ANTARIKCHYA </h2></li>
          </ul>
          <div class=" text-end" style="margin-right: 15px;">
            <a href="/signin"><button type="button" class="btn" style="background: #545454; color: white;" >Sign-Out</button></a>
          </div>
        </div>
      </div>
  </header>

  </main>
  <!--Left side bar-->

    <script src="/docs/5.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
    <div class="   text-white bg-dark" style="width: 15%; height: 100vh; float:left;">
      <div class="w-100 " >
		    <img src="static/Sanima.jpg" class="img-fluid" alt="Samina Bank">
      </div>

      <ul class="nav nav-pills flex-column mb-auto " id="navi" style=" color: #3a3a3a;">
        <li class="nav-item" >
          <a  class="nav-link d-flex gap-3 align-items-center text-white "  onclick="func()" aria-current="page" style="padding: 15px; border-radius: 0px;">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-upload" viewBox="0 0 16 16">
              <path d="M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5z"/>
              <path d="M7.646 1.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1-.708.708L8.5 2.707V11.5a.5.5 0 0 1-1 0V2.707L5.354 4.854a.5.5 0 1 1-.708-.708l3-3z"/>
            </svg>
            Upload
          </a>
        </li>

        <li>
          <a class="nav-link text-white d-flex gap-3 align-items-center" id="upload" style="padding: 15px; ">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clock-history" viewBox="0 0 16 16">
              <path d="M8.515 1.019A7 7 0 0 0 8 1V0a8 8 0 0 1 .589.022l-.074.997zm2.004.45a7.003 7.003 0 0 0-.985-.299l.219-.976c.383.086.76.2 1.126.342l-.36.933zm1.37.71a7.01 7.01 0 0 0-.439-.27l.493-.87a8.025 8.025 0 0 1 .979.654l-.615.789a6.996 6.996 0 0 0-.418-.302zm1.834 1.79a6.99 6.99 0 0 0-.653-.796l.724-.69c.27.285.52.59.747.91l-.818.576zm.744 1.352a7.08 7.08 0 0 0-.214-.468l.893-.45a7.976 7.976 0 0 1 .45 1.088l-.95.313a7.023 7.023 0 0 0-.179-.483zm.53 2.507a6.991 6.991 0 0 0-.1-1.025l.985-.17c.067.386.106.778.116 1.17l-1 .025zm-.131 1.538c.033-.17.06-.339.081-.51l.993.123a7.957 7.957 0 0 1-.23 1.155l-.964-.267c.046-.165.086-.332.12-.501zm-.952 2.379c.184-.29.346-.594.486-.908l.914.405c-.16.36-.345.706-.555 1.038l-.845-.535zm-.964 1.205c.122-.122.239-.248.35-.378l.758.653a8.073 8.073 0 0 1-.401.432l-.707-.707z"/>
              <path d="M8 1a7 7 0 1 0 4.95 11.95l.707.707A8.001 8.001 0 1 1 8 0v1z"/>
              <path d="M7.5 3a.5.5 0 0 1 .5.5v5.21l3.248 1.856a.5.5 0 0 1-.496.868l-3.5-2A.5.5 0 0 1 7 9V3.5a.5.5 0 0 1 .5-.5z"/>
            </svg>
            History
          </a>
        </li>

      </ul>
    </div>
    <div  style="height: 100%; float:left; width:85%" >

      <!--This is for Tribhuwan International Airport which is in new.html-->


      <!--This displays map.hmtl image in index page-->

      <iframe src="/map" height="100%" width="100%"></iframe>

    </div>


  <!--Multiple images upload-->
  <div class="container" id="container1" style="display: none;">
        <input type="file" id="file-input" onchange="preview()" multiple>
        <label for="file-input" id="label">
          Choose A Photo
        </label>
          <form class="grid" action="/result" method="POST">
            <input type="button" id="script" name="script-button" value="Process Image" class="file_submit" onclick="process()">
          </form>
        <p id="num-of-files">No Files Chosen</p>
        <div id="images"></div>

  </div>

  <div id="results" style="display: none;">
    <div id="rgb" style="float:left">
       <img src="/static/Results/RBG.png" style="width:500px; height:500px;"/>
    </div>
    <div id="ndvii" style="float:left">
       <img src="/static/Results/NDVI.png" style="width:500px; height:500px;"/>
    </div>



  </div>


    <!--<div class="flex" id="Container2" style="height: 200 px; width: 1000px;">
      <table>
        <tr>
          Save Result:
        </tr>
        <tr>
         <th> <b>Location</b></th>
          <th> <b>Date</b></th>
          <th> <b>RGB</b></th>
          <th> <b>NDVI</b></th>
        </tr>
        <tr>


        </tr>
      </table>

    </div>-->
</body>
<script>

 let fileInput = document.getElementById("file-input");
let imageContainer = document.getElementById("images");
let numOfFiles = document.getElementById("num-of-files");

function preview(){
    imageContainer.innerHTML = "";
    numOfFiles.textContent = `${fileInput.files.length} Files Selected`;
    for(i of fileInput.files){
        let reader = new FileReader();
        let figure = document.createElement("figure");
        let figCap = document.createElement("figcaption");
        figCap.innerText = i.name;
        figure.appendChild(figCap);
        reader.onload=()=>{
            let img = document.createElement("img");
            img.setAttribute("src",reader.result);
            figure.insertBefore(img,figCap);
        }
        imageContainer.appendChild(figure);
        reader.readAsDataURL(i);
    }

}



            function process() {
            var x = document.getElementById("results");
            if (x.style.display === "none") {
              x.style.display = "block";
            } else {
            x.style.display = "none";
            }
           };




            function func() {
            var x = document.getElementById("container1");
            if (x.style.display === "none") {
              x.style.display = "block";
            } else {
            x.style.display = "none";
            }
           };


</script>


</html>